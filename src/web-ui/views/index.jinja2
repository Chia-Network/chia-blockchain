{% extends 'layout.html' %}
{% from '_macros.jinja2' import render_field %}
{% block content %}
<h2>Status</h2>
{{ render_field('Status', state) }}
{{ render_field('Sync mode', blockchain_state.sync_mode) }}
<div>
    <span class='name'><a href="./lca">Least common ancestor</a></span>
</div>
<div>
    <span class='name'>Tips</span>
    {% for tip in blockchain_state.tips %}
        <div>
            <span>Height: </span>
            <a href="./SmallHeaderBlock/{{ tip.challenge.proof_of_space_hash | string | urlencode }}">{{ tip.challenge.height }}</a>
        </div>
    {% endfor %}  
</div>

{{ render_field('Current difficulty', blockchain_state.difficulty) }}
{{ render_field('Current VDF iterations per second', blockchain_state.ips) }} 

<h3>Connections</h3>
{% for connection in connections %}
    <div>
        <span>{{ connection.type_name }}</span> -
        <a href="./connection?node_id={{ connection.node_id | string | urlencode }}">
            <span>{{ connection.peer_host }}:{{ connection.peer_port }}/{{ connection.peer_server_port }}</span>
        </a>
    </div>
{% endfor %}        

<h3>Our Pool Winnings</h3>
{% for winner in our_winners %}
    {{ render_field('Public key', winner[2] | string + (winner[0] / 1000000000000) | string) }}
{% endfor %}  
{% endblock %}