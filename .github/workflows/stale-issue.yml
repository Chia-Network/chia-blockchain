name: 'Close stale issues'
on:
  schedule:
    - cron: '0 11 * * *'

jobs:
  stale:
    runs-on: ubuntu-latest
    steps:
      - uses: chia-network/stale@main
        with:
          operations-per-run: 10000
          ascending: true
          days-before-issue-stale: 14
          days-before-issue-close: 7
          days-before-pr-stale: 45
          days-before-pr-close: -1
          exempt-all-pr-milestones: true
          exempt-all-issue-milestones: true
          exempt-all-assignees: true
          stale-issue-label: stale-issue
          stale-pr-label: stale-pr
          remove-stale-when-updated: true
          stale-issue-message: >-
            This issue has not been updated in 14 days and is now flagged
            as stale. If this issue is still affecting you and in need
            of further review, please comment on it with an update to
            keep it from auto closing in 7 days.
          close-issue-message: >-
            This was flagged as stale 7 days ago and has not been updated since
            by the submitter or watchers, and as a result has been closed.
          stale-pr-message: >-
            There has been no activity on this PR for 45 days, and it has now
            been tagged with a stale-pr label. It should be manually reviewed 
            by the relevant parties at the earliest convenience.
